# Firebase ë³´ì•ˆ ê·œì¹™ ë°°í¬ ê°€ì´ë“œ

## âš ï¸ ì¤‘ìš”: Firestore ë³´ì•ˆ ê·œì¹™ ë°°í¬

Firebase ì½˜ì†”ì—ì„œ ë³´ì•ˆ ê·œì¹™ì„ ì—…ë°ì´íŠ¸í•´ì•¼ ì—ëŸ¬ê°€ í•´ê²°ë©ë‹ˆë‹¤.

## ğŸ“‹ ë°°í¬ ë°©ë²•

### 1. Firebase ì½˜ì†” ì ‘ì†
1. [Firebase Console](https://console.firebase.google.com/) ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ: `urwebs-3f562` (ë˜ëŠ” ë³¸ì¸ì˜ í”„ë¡œì íŠ¸)

### 2. Firestore Databaseë¡œ ì´ë™
1. ì™¼ìª½ ë©”ë‰´ì—ì„œ **"Firestore Database"** í´ë¦­
2. ìƒë‹¨ íƒ­ì—ì„œ **"ê·œì¹™"** íƒ­ í´ë¦­

### 3. ê·œì¹™ ì—…ë°ì´íŠ¸
1. í˜„ì¬ `firestore.rules` íŒŒì¼ì˜ ë‚´ìš©ì„ ë³µì‚¬
2. Firebase ì½˜ì†”ì˜ ê·œì¹™ í¸ì§‘ê¸°ì— ë¶™ì—¬ë„£ê¸°
3. **"ê²Œì‹œ"** ë²„íŠ¼ í´ë¦­

### 4. ë°°í¬ í™•ì¸
- ë°°í¬ê°€ ì™„ë£Œë˜ë©´ "ê·œì¹™ì´ ê²Œì‹œë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ í‘œì‹œ
- ëª‡ ì´ˆ í›„ ì•±ì„ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ì—ëŸ¬ê°€ í•´ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸

## ğŸ” ì—ëŸ¬ ë°œìƒ ì‹œ í™•ì¸ì‚¬í•­

### ì½˜ì†” ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬(F12) â†’ Console íƒ­ì—ì„œ ë‹¤ìŒ ì—ëŸ¬ë¥¼ í™•ì¸:

1. **"Missing or insufficient permissions"**
   - ë³´ì•ˆ ê·œì¹™ì´ ë°°í¬ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì˜ëª»ëœ ê²½ìš°
   - í•´ê²°: ìœ„ì˜ ë°°í¬ ë°©ë²• ë”°ë¼í•˜ê¸°

2. **"Unsupported field value: undefined"**
   - í•´ê²°: ì´ë¯¸ ìˆ˜ì •ë¨ (undefined ê°’ ì œê±°)

3. **"permission-denied"**
   - ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
   - ë³´ì•ˆ ê·œì¹™ì—ì„œ í•´ë‹¹ ì‘ì—… í—ˆìš© ì—¬ë¶€ í™•ì¸

## âœ… ìë™ ë°°í¬ ì„¤ì • (ì„ íƒì‚¬í•­)

### Firebase CLI ì‚¬ìš©
```bash
# Firebase CLI ì„¤ì¹˜ (ìµœì´ˆ 1íšŒ)
npm install -g firebase-tools

# ë¡œê·¸ì¸
firebase login

# í”„ë¡œì íŠ¸ ì—°ê²°
firebase use --add

# ê·œì¹™ ë°°í¬
firebase deploy --only firestore:rules
```

### GitHub Actions ìë™ ë°°í¬ (ê³ ê¸‰)
`.github/workflows/deploy-firestore-rules.yml` íŒŒì¼ ìƒì„±í•˜ì—¬ ìë™ ë°°í¬ ì„¤ì • ê°€ëŠ¥

## ğŸ“ í˜„ì¬ ë³´ì•ˆ ê·œì¹™ ì£¼ìš” ë‚´ìš©

- âœ… `users/{userId}/favorites/{pageId}`: ë³¸ì¸ë§Œ ì½ê¸°/ì“°ê¸°
- âœ… `userPages/{docId}`: ê³µê°œ í˜ì´ì§€ëŠ” ì¡°íšŒìˆ˜/ì¢‹ì•„ìš” ì¦ê°€ í—ˆìš©
- âœ… ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ë³¸ì¸ ë°ì´í„° ìˆ˜ì • ê°€ëŠ¥

## ğŸ†˜ ë¬¸ì œ í•´ê²°ì´ ì•ˆ ë  ë•Œ

1. Firebase ì½˜ì†” â†’ Firestore Database â†’ ê·œì¹™ íƒ­ í™•ì¸
2. í˜„ì¬ ê·œì¹™ ë‚´ìš©ê³¼ `firestore.rules` íŒŒì¼ ë¹„êµ
3. ì½˜ì†” ì—ëŸ¬ ë©”ì‹œì§€ ìŠ¤í¬ë¦°ìƒ· ì°ì–´ì„œ í™•ì¸

